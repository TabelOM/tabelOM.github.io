<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabel Kalkulasi</title>
    <link rel="stylesheet" href="style.css">
    
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-database-compat.js"></script>
</head>
<body>

    <div class="main-wrapper">
        <header class="unified-bar">
            <div id="running-text-wrapper">
                <span id="running-content">Menghubungkan ke Database...</span>
            </div>
            
            <div class="clock-container">
                <div id="digital-clock">00:00:00</div>
            </div>

            <button id="btn-manage-rt" onclick="openModal()" title="Pengaturan">âš™ï¸</button>
        </header>

        <main class="content-area">
            <iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vT1f6n_N6Yk_WfPUP1S2I7Gq2BwV7xL7vIuIqYx/pubhtml?widget=true&amp;headers=false"></iframe>
        </main>
    </div>

    <div id="rt-modal" class="rt-modal">
        <div class="rt-box">
            <div class="rt-header">
                <h2>âš™ï¸ Pengaturan Dashboard</h2>
                <button class="btn-close-top" onclick="closeModal()">Tutup &times;</button>
            </div>

            <div class="rt-body">
                <div class="input-group">
                    <label id="input-label">ğŸ“ Tambah / Edit Pesan</label>
                    <textarea id="rt-input" placeholder="Tulis pesan Anda di sini..." maxlength="150"></textarea>
                    
                    <div style="display: flex; gap: 10px;">
                        <button class="btn-save" id="btnSave" onclick="saveOrUpdate()" style="flex: 2;">ğŸ’¾ Simpan ke Firebase</button>
                        <button id="btnCancel" onclick="cancelEdit()" style="display:none; flex: 1; background:#ef4444; color:white; border:none; border-radius:10px; cursor:pointer;">Batal</button>
                    </div>
                </div>

                <hr class="divider">

                <div class="control-card">
                    <label>âš¡ Kecepatan Jalan (Detik)</label>
                    <input type="range" id="speed-slider" min="5" max="50" value="15">
                    <div class="speed-info"><span id="speedValue">15</span> detik (semakin kecil semakin cepat)</div>
                </div>

                <hr class="divider">

                <label>ğŸ“‹ Daftar Pesan Aktif</label>
                <p style="font-size: 11px; color: var(--text-muted); margin-bottom: 10px;">
                    Klik teks untuk <b>Edit</b>, klik ikon mata untuk <b>Sembunyikan</b>.
                </p>
                <div class="list-container">
                    <ul id="rt-list">
                        </ul>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
